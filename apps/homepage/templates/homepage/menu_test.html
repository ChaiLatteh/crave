<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Menu | Crave</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Favicon -->
    <link rel="shortcut icon" href="/static/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
    *{
      font-family:"Lato";
    }
    html{
      height:100%;
      overflow-y:scroll;
    }
    body{
      height:100%;
    }
    img{
      width:100%;
      margin-bottom:100px;
    }
    #header{
      height:150px;
      background-color:grey;
    }
    #header h1{
      font-weight:bold;
      font-size:48px;
      text-align:center;
    }

    #menu{
      margin:50px auto;
      padding:50px 0px;
      width:960px;
    }

    #menu h1{
      font-size:48px;
      color:#3791d4;
      font-weight:bold;
      text-align:center;
      padding-bottom:50px;
    }

    .item{
      cursor:pointer;
      width:45%;
      height:100px;
      padding:10px;
      margin-bottom:30px;
      display:inline-table;
    }
    .item:hover{
      box-shadow:0px 0px 6px 0px rgba(0,0,0,.25);
    }
    .item:nth-child(even){
      float:right;
    }
    .item_name{
      font-weight:bold;
      max-width:85%;
      margin:0px 0px 10px 0px;
      display:inline-table;
      font-size:24px;
    }
    .item_price{
      font-weight:bold;
      color:#d61212;
      float:right;
      display:inline-table;
      font-size:20px;
    }
    .item_description{
      margin:0px;
      font-size:16px;
    }
    .modal {
      display: none; /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 100; /* Sit on top */
      left: 0;
      top: 0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgb(0,0,0); /* Fallback color */
      background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    .modal-content{
      overflow-y:auto;
      width:75%;
      max-width:850px;
      max-height:95%;
      background-color: #fefefe;
      margin: auto;
      border:none;
      /* border: 1px solid #888; */
      border-radius:0;
    }

    @media screen and (max-width:1023px){
      #menu{
        width:80%;
        min-width:600px;
      }
      .item{
        height:initial;
        width:100%;
      }
    }
    @media screen and (max-width:767px){
      #menu{
        min-width:0;
      }
    }

    @media screen and (max-width:574px){
      .item_name{
        max-width:78%;
        font-size:20px;
      }
      .item_price{
        font-size:16px;
      }
      .item_description{
        font-size:12px;
      }
    }


    </style>
  </head>
  <body>
    {% include "homepage/navbar.html" %}

    <div id="header" class="container-fluid">
      <div style="display:table; height:100%; margin:auto;">
        <div style="display:table-cell; vertical-align:middle;">
          <h1>CRAVE MENU</h1>
        </div>
      </div>
    </div>

    <div id="menu" class="container-fluid">
      {% for item in menu_item_list %}
        <div class="item" onclick="openModal(); tester();">
          {% if item.image %}
            <p style="display:none;">{{item.image.url}}</p>
          {% else %}
            <p style="display:none;"></p>
          {% endif %}
          <h3 class="item_name">{{item.name}}</h3>
          <span class="item_price">${{item.price}}</span>
          <h4 class="item_description">{{item.description}}</h4>
        </div>
      {% endfor %}

      <div id="modal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal()">&times;</span>

          <div>

          </div>

        </div>
      </div>

    </div>


    <script>
    // var item = document.getElementsByClassName("item");
    // var modal = document.getElementsByClassName("modal");
    // var closeButton = document.getElementsByClassName("close");
    //
    // for(var i=0; i<modal.length; i++){
    //
    //   if (item[i]){
    //     item[i].onclick=function(){
    //       for(var i=0; i<item.length; i++){
    //         this.nextElementSibling.style.display="flex";
    //       }
    //     }
    //   }
    //
    //   closeButton[i].onclick=function(){
    //     for(var i=0; i<modal.length; i++){
    //       modal[i].style.display="none";
    //     }
    //   }
    //
    //   modal[i].onclick=function(){
    //     this.style.display="none";
    //   }
    //   modal[i].firstElementChild.onclick=function(event){
    //     event.stopPropagation();
    //   }
    // }


    var modal = document.getElementById("modal");

    function tester(){
      console.log(this.firstElementChild);
    }

    function openModal(){
      modal.style.display="flex";
    }
    function closeModal(){
      modal.style.display="none";
    }

    modal.onclick=function(){
      this.style.display="none";
    }
    modal.firstElementChild.onclick=function(event){
      event.stopPropagation();
    }





    </script>


    {% include "homepage/footer.html" %}
  </body>
</html>
